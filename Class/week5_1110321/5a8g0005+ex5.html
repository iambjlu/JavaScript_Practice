<!--5a8g0005盧柏均-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>求取質數</title>
  <script>
    function getPrimes() {
      let n = parseInt(document.getElementById("myValue").value);
      let primes = [];
      let msg = "質數列表:";
      let msg2 = "";
      let hue = 0;

      if (isNaN(n) || (n < 0)) window.alert('請重新輸入');
      else {
        for (let i = 2; i <= n; i++) {
          if (isPrime(i)) { // i 是質數
            primes.push(i);
            msg += <span style="color:red; border:1px solid red; padding: 2px">${i}</span>;
          } else { // i 不是質數
            msg += <span style="color:black;">${i}</span>
          }
        }
        msg += '<br/>';
      }
      document.getElementById('myId').innerHTML = msg;

      let cs = Math.trunc(360 / primes.length);
      for (i = 0; i < primes.lenght; i++) {
        msg2 += <span style="color:hsl(${hue}, 100%, 50%)">${primes[i]}</span>;
        for (let j = primes[i]; j <= n; j += promes[i]) {
          msg2 += <span style="color:hsl(${hue}, 100%, 50%">${j}</span>;
        }
        msg2 += '<br/>';
        hue += cs;
      }
      document.getElementById('myId2').innerHTML = msg2;
    }
    function isPrime(num){
      for (let i = 2; i < num; i++){
        if(num % i == 0) return false;
      }
      return true;
    }
  </script>
</head>
<body>
<h1>求取質數</h1>
<label>請輸入一個數值</label>
<input type="text" id="myValue">
<input type="button" value="OK" onclick="getPrimes()">

<p id="myId" style="line-height: 2;"></p>
<p id="myId2"></p>

</body>
</html>